/*!
 * JQuery Spliter Plugin version 0.27.1
 * Copyright (C) 2010-2018 Jakub T. Jankiewicz <https://jcubic.pl/me>
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Lesser General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Lesser General Public License for more details.
 *
 * You should have received a copy of the GNU Lesser General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */
!function(t,i){var e=0,n=null,r=[],o=null;t.fn.split=function(s){var l,a,h=this.data("splitter");if(h)return h;var p,u=t.extend({limit:100,orientation:"horizontal",position:"50%",invisible:!1,onDragStart:t.noop,onDragEnd:t.noop,onDrag:t.noop,percent:!1},s||{});this.settings=u;var g=this.children();"vertical"==u.orientation?(l=g.first().addClass("left_panel"),a=l.next().addClass("right_panel"),p="vsplitter"):"horizontal"==u.orientation&&(l=g.first().addClass("top_panel"),a=l.next().addClass("bottom_panel"),p="hsplitter"),u.invisible&&(p+=" splitter-invisible");var d=this.width(),c=this.height(),f=e++;this.addClass("splitter_panel");var v,m=t("<div/>").addClass(p).bind("mouseenter touchstart",(function(){n=f})).bind("mouseleave touchend",(function(){n=null})).insertAfter(l);function b(t){if("number"==typeof t)return t;if("string"==typeof t){var i=t.match(/^([0-9\.]+)(px|%)$/);if(i){if("px"==i[2])return+i[1];if("vertical"==u.orientation)return d*+i[1]/100;if("horizontal"==u.orientation)return c*+i[1]/100}}}var z,w,_=t.extend(this,{refresh:function(){var t=this.width(),i=this.height();d==t&&c==i||(d=this.width(),c=this.height(),_.position(v))},option:function(t,i){return"position"===t?_.position(i):void 0===i?u[t]:(u[t]=i,_)},position:"vertical"==u.orientation?function(t,e){if(t===i)return v;v=b(t);var n,r=m.width(),o=r/2,s=_.width();if(u.invisible)n=l.width(v).outerWidth(),a.width(s-n),m.css("left",n-o);else if(u.percent){var h=(v-o)/s*100;n=l.css("width",h+"%").outerWidth(),a.css("width",(s-n-r)/s*100+"%"),m.css("left",n/s*100+"%")}else n=l.css("width",v-o).outerWidth(),a.width(s-n-r),m.css("left",n);return l.find(".splitter_panel").eq(0).height(_.height()),a.find(".splitter_panel").eq(0).height(_.height()),e||(_.trigger("splitter.resize"),_.find(".splitter_panel").trigger("splitter.resize")),_}:"horizontal"==u.orientation?function(t,e){if(t===i)return v;v=b(t);var n,r=m.height(),o=r/2,s=_.height();if(u.invisible)n=l.height(v).outerHeight(),a.height(s-n),m.css("top",n-o);else if(u.percent){var h=(v-o)/s*100;n=l.css("height",h+"%").outerHeight(),a.css("height",(s-n-r)/s*100+"%"),m.css("top",n/s*100+"%")}else n=l.height(v-o).outerHeight(),a.height(s-n-r),m.css("top",n);return e||(_.trigger("splitter.resize"),_.find(".splitter_panel").trigger("splitter.resize")),_}:t.noop,orientation:u.orientation,limit:(z=u.limit,!isNaN(parseFloat(z))&&isFinite(z)?{leftUpper:z,rightBottom:z}:z),isActive:function(){return n===f},destroy:function(){_.removeClass("splitter_panel"),m.unbind("mouseenter"),m.unbind("mouseleave"),m.unbind("touchstart"),m.unbind("touchmove"),m.unbind("touchend"),m.unbind("touchleave"),m.unbind("touchcancel"),"vertical"==u.orientation?(l.removeClass("left_panel"),a.removeClass("right_panel")):"horizontal"==u.orientation&&(l.removeClass("top_panel"),a.removeClass("bottom_panel")),_.unbind("splitter.resize"),_.trigger("splitter.resize"),_.find(".splitter_panel").trigger("splitter.resize"),r[f]=null,e--,m.remove(),_.removeData("splitter");for(var i=!1,n=r.length;n--;)if(null!==r[n]){i=!0;break}i||(t(document.documentElement).unbind(".splitter"),t(window).unbind("resize.splitter"),r=[],e=0)}});_.bind("splitter.resize",(function(t){var i=_.position();"vertical"==_.orientation&&i>_.width()?i=_.width()-_.limit.rightBottom-1:"horizontal"==_.orientation&&i>_.height()&&(i=_.height()-_.limit.rightBottom-1),i<_.limit.leftUpper&&(i=_.limit.leftUpper+1),t.stopPropagation(),_.position(i,!0)})),"vertical"==u.orientation?w=w>d-u.limit.rightBottom?d-u.limit.rightBottom:b(u.position):"horizontal"==u.orientation&&(w=w>c-u.limit.rightBottom?c-u.limit.rightBottom:b(u.position)),w<u.limit.leftUpper&&(w=u.limit.leftUpper),_.position(w,!0);var U=this.closest(".splitter_panel");return U.length&&this.height(U.height()),0===r.filter(Boolean).length&&(t(window).bind("resize.splitter",(function(){t.each(r,(function(t,i){i&&i.refresh()}))})),t(document.documentElement).on("mousedown.splitter touchstart.splitter",(function(i){null!==n&&(i.preventDefault(),o=r[n],setTimeout((function(){t('<div class="splitterMask"></div>').css("cursor",o.children().eq(1).css("cursor")).insertAfter(o)})),o.settings.onDragStart(i))})).bind("mouseup.splitter touchend.splitter touchleave.splitter touchcancel.splitter",(function(i){o&&(setTimeout((function(){t(".splitterMask").remove()})),o.settings.onDragEnd(i),o=null)})).bind("mousemove.splitter touchmove.splitter",(function(t){if(null!==o){o.limit.leftUpper;var i=o.limit.rightBottom,e=o.offset();if("vertical"==o.orientation){var n=t.pageX;t.originalEvent&&t.originalEvent.changedTouches&&(n=t.originalEvent.changedTouches[0].pageX);var r=n-e.left;r<=o.limit.leftUpper?r=o.limit.leftUpper+1:r>=o.width()-i&&(r=o.width()-i-1),r>o.limit.leftUpper&&r<o.width()-i&&(o.position(r,!0),o.trigger("splitter.resize"),o.find(".splitter_panel").trigger("splitter.resize"))}else if("horizontal"==o.orientation){var s=t.pageY;t.originalEvent&&t.originalEvent.changedTouches&&(s=t.originalEvent.changedTouches[0].pageY);var l=s-e.top;l<=o.limit.leftUpper?l=o.limit.leftUpper+1:l>=o.height()-i&&(l=o.height()-i-1),l>o.limit.leftUpper&&l<o.height()-i&&(o.position(l,!0),o.trigger("splitter.resize"),o.find(".splitter_panel").trigger("splitter.resize"))}o.settings.onDrag(t)}}))),r[f]=_,_.data("splitter",_),_}}(jQuery);